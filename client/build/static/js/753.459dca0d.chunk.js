"use strict";(self.webpackChunkpet_project_frontend=self.webpackChunkpet_project_frontend||[]).push([[753],{5753:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var t=r(5043);const a="NewsLettersBlock_newsLettersBlock__OucRN";var c=r(3516),i=r(1837),o=r(7712);const n="SubscribeForm_subscribeForm__9lJpk",l="SubscribeForm_messageLine__UP4GP",m="SubscribeForm_message__XYpIn",u="SubscribeForm_closeButton__ZOw81",b="SubscribeForm_form__c7Kxt",_="SubscribeForm_title__TRBwU",d="SubscribeForm_description__mTWBD",S="SubscribeForm_inputSection__tpsHP",h="SubscribeForm_button__mEaRT",p="SubscribeForm_messageError__D4WZS";var E=r(579);const N=e=>{let{title:s,description:r,buttonText:a,onSubmit:N,validationSchema:x}=e;const[F,j]=(0,t.useState)(!1),[g,w]=(0,t.useState)({message:"",isError:!1}),O=(0,c.Wx)({initialValues:{email:""},validationSchema:x,onSubmit:(e,s)=>{let{resetForm:r}=s;N(e).then((e=>{e&&(j(!0),w({message:e.message,isError:!1}),r())})).catch((e=>{e&&(j(!0),w({message:e.message,isError:!0}))}))}});return(0,E.jsxs)("article",{className:n,children:[(0,E.jsxs)("section",{className:"".concat(l," ").concat(g.isError?p:""),style:{opacity:F?"1":"0"},children:[(0,E.jsx)("p",{className:m,children:g.message}),(0,E.jsx)("button",{className:u,type:"button","aria-label":"close message",onClick:()=>j(!1),children:(0,E.jsx)(o.A,{})})]}),(0,E.jsxs)("form",{className:b,onSubmit:O.handleSubmit,children:[(0,E.jsx)("h2",{className:_,children:s}),(0,E.jsx)("p",{className:d,children:r}),(0,E.jsxs)("section",{className:S,children:[(0,E.jsx)(i.A,{name:"email",placeholder:"Enter your e-mail",autoComplete:"true",onChange:O.handleChange,error:O.errors.email,value:O.values.email,touched:O.touched}),(0,E.jsx)("button",{className:h,disabled:!O.dirty,type:"submit","aria-label":"form submit",children:(0,E.jsx)("span",{children:a})})]})]})]})};var x=r(4110),F=r(5055),j=r(3190);const g=()=>{const e=window.innerWidth<=768;return(0,E.jsx)("article",{className:a,children:(0,E.jsx)(N,{buttonText:"".concat(e?"Subscribe":"Subscribe to our newsletter"),validationSchema:x.Rp,onSubmit:e=>F.A.add({email:e.email}).then((e=>({message:j.A[e.response.message]}))).catch((e=>{throw new Error(j.A[e.response.data.response.message])})),description:"SIGN UP TO GET 10% OFF ON YOUR FIRST ORDER, RELEASE NOTIFICATIONS AND EXCLUSIVE ACCESS BEFORE EVERYONE ELSE",title:"Newsletter"})})}}}]);
//# sourceMappingURL=753.459dca0d.chunk.js.map